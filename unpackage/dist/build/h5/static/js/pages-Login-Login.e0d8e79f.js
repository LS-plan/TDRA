(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-Login-Login"],{2576:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.main[data-v-14c50f8b]{height:100vh;padding:1px}',""]),t.exports=e},"58ca":function(t,e,n){"use strict";n.r(e);var i=n("e36f"),a=n("95e7");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("f187");var s=n("f0c5"),u=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"14c50f8b",null,!1,i["a"],void 0);e["default"]=u.exports},"73cd":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.getToken=function(){return uni.getStorageSync("uni_token")},e.removeToken=function(){return uni.removeStorageSync("uni_token")},e.setToken=function(t){return uni.setStorageSync("uni_token",t)}},"95e7":function(t,e,n){"use strict";n.r(e);var i=n("e585"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},b5cd:function(t,e,n){t.exports=n.p+"static/img/earth.a3d918eb.jpg"},e1a5:function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.login=function(t){return(0,a.default)({url:"/userinfo/login",method:"POST",contentType:"application/json",data:t})};var a=i(n("e1f4"))},e1f4:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("d3b7");var i=n("73cd");var a=function(t){return new Promise((function(e,n){var a=t.method||"POST",o="http://121.5.75.127:2530"+t.url||"",s=t.data||{},u=(0,i.getToken)(),r=t.header||{"Content-Type":t.contentType||"application/json",token:u};uni.request({url:o,data:s,method:a,header:r,success:function(t){403===t.statusCode||401===t.statusCode?uni.reLaunch({url:"/pages/Login/Login"}):200===t.statusCode&&(console.log("request",t),e(t))},fail:function(t){uni.showToast({title:"请求接口失败",duration:2e3}),n(t)}})}))};e.default=a},e36f:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"text-center main",class:t.styleMode.mainColor},[i("v-uni-view",{staticClass:"text-right margin"}),i("v-uni-view",{staticClass:"margi-xl text-xxl text-bold",staticStyle:{visibility:"hidden"}},[t._v("123")]),i("v-uni-view",{staticClass:"margin-xl"},[i("v-uni-image",{staticStyle:{width:"100px"},attrs:{src:n("b5cd"),mode:"widthFix"}})],1),i("v-uni-view",{staticClass:"margi-xl text-xxl text-bold"},[t._v("页岩气藏预测平台")]),i("v-uni-view",{staticClass:"nav flex margin-xl justify-around text-lg"},[i("v-uni-view",{staticClass:"cu-item",class:"account"==t.loginMethod?t.styleMode.textColor+" cur":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeLogin("account")}}},[t._v("账号密码登录")]),i("v-uni-view",{staticClass:"cu-item",class:"phone"==t.loginMethod?t.styleMode.textColor+" cur":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeLogin("phone")}}},[t._v("手机号登录")])],1),i("v-uni-view",{staticClass:"margin"},[i("v-uni-swiper",{attrs:{"current-item-id":t.loginMethod},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.swiperChange.apply(void 0,arguments)}}},[i("v-uni-swiper-item",{attrs:{"item-id":"account"}},[i("v-uni-view",{staticClass:"margin-left margin-right solid"},[i("v-uni-view",{staticClass:"cu-form-group text-left"},[i("v-uni-text",{staticClass:"cuIcon-people text-gray margin-right"}),i("v-uni-input",{attrs:{placeholder:"请输入账号",name:"input"},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1),i("v-uni-view",{staticClass:"cu-form-group text-left"},[i("v-uni-text",{staticClass:"cuIcon-lock text-gray margin-right"}),i("v-uni-input",{attrs:{placeholder:"请输入密码",name:"input",password:"true"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1)],1)],1),i("v-uni-swiper-item",{attrs:{"item-id":"phone"}},[i("v-uni-view",{staticClass:"margin-left margin-right solid"},[i("v-uni-view",{staticClass:"cu-form-group text-left"},[i("v-uni-text",{staticClass:"cuIcon-mobile text-gray margin-right"}),i("v-uni-input",{attrs:{placeholder:"请输入手机号",name:"input"},model:{value:t.userPhone,callback:function(e){t.userPhone=e},expression:"userPhone"}})],1),i("v-uni-view",{staticClass:"cu-form-group text-left"},[i("v-uni-text",{staticClass:"cuIcon-mail text-gray margin-right"}),i("v-uni-input",{attrs:{placeholder:"请输入验证码",name:"input"}}),t.showText?i("v-uni-button",{staticClass:"cu-btn",class:t.styleMode.bgColor,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendSMS.apply(void 0,arguments)}}},[t._v("获取验证码")]):t._e(),t.showText?t._e():i("v-uni-button",{staticClass:"cu-btn",attrs:{disabled:"true"}},[t._v(t._s(t.second)+"s重新发送")])],1)],1)],1)],1),i("v-uni-view",{staticClass:"flex margin justify-between"},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"text-lg margin-right"},[t._v("记住密码")]),i("v-uni-view",[i("v-uni-switch",{staticClass:"radius",class:t.autoLogin?t.styleMode.otherColor+" checked":"",attrs:{checked:!!t.autoLogin},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.switchLogin.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"text-lg",class:t.styleMode.textColor},[t._v("忘记密码")])],1),i("v-uni-view",{staticClass:"margin"},[i("v-uni-button",{class:t.styleMode.bgColor,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.login()}}},[t._v("立即登录")])],1)],1)],1)},a=[]},e585:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("e1a5"),a={data:function(){return{styleMode:{mainColor:"bg-white",textColor:"text-blue",bgColor:"bg-blue",otherColor:"blue"},loginMethod:"account",autoLogin:!0,showText:!0,second:60,userPhone:"",useraccount:"",userkeyword:"",user:{}}},methods:{switchLogin:function(t){this.autoLogin=t.detail.value},swiperChange:function(t){this.loginMethod=t.detail.currentItemId},changeLogin:function(t){this.loginMethod=t},sendSMS:function(){var t=this;if(this.userPhone.length<11)uni.showToast({icon:"none",title:"请输入有效手机号"});else{this.showText=!1;var e=setInterval((function(){var e=--t.second;t.second=e<10?"0"+e:e}),1e3);setTimeout((function(){clearInterval(e),t.second=60,t.showText=!0}),6e4)}},login:function(){(0,i.login)(this.user).then((function(t){console.log("成功"),console.log(t),t.data?uni.navigateTo({url:"../datacenter/datacenter"}):uni.showToast({title:"用户名或者密码错误",icon:"none"})}))}}};e.default=a},e5f0:function(t,e,n){var i=n("2576");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("2a5cffbe",i,!0,{sourceMap:!1,shadowMode:!1})},f187:function(t,e,n){"use strict";var i=n("e5f0"),a=n.n(i);a.a}}]);